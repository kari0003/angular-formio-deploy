{"version":3,"file":"angular-formio-resource.umd.js","sources":["../../../projects/angular-formio/resource/src/resource.config.ts","../../../projects/angular-formio/resource/src/resources.service.ts","../../../projects/angular-formio/resource/src/resource.service.ts","../../../projects/angular-formio/resource/src/resource.component.html","../../../projects/angular-formio/resource/src/resource.component.ts","../../../projects/angular-formio/resource/src/view/view.component.ts","../../../projects/angular-formio/resource/src/view/view.component.html","../../../projects/angular-formio/resource/src/edit/edit.component.ts","../../../projects/angular-formio/resource/src/edit/edit.component.html","../../../projects/angular-formio/resource/src/delete/delete.component.ts","../../../projects/angular-formio/resource/src/delete/delete.component.html","../../../projects/angular-formio/resource/src/create/create.component.html","../../../projects/angular-formio/resource/src/create/create.component.ts","../../../projects/angular-formio/resource/src/index/index.component.ts","../../../projects/angular-formio/resource/src/index/index.component.html","../../../projects/angular-formio/resource/src/resource.routes.ts","../../../projects/angular-formio/resource/src/resource.module.ts","../../../projects/angular-formio/resource/src/public_api.ts","../../../projects/angular-formio/resource/src/angular-formio-resource.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nexport interface FormioResourceRouteConfig {\n  index?: any;\n  create?: any;\n  resource?: any;\n  view?: any;\n  edit?: any;\n  delete?: any;\n}\n\n@Injectable()\nexport class FormioResourceConfig {\n  name = '';\n  form = '';\n  parents: any[] = [];\n}\n","import { Injectable, EventEmitter } from '@angular/core';\nimport { FormioAuthService } from 'angular-formio/auth';\n\nexport interface FormioResourceMap {\n  [name: string]: any;\n}\n\n@Injectable()\nexport class FormioResources {\n  resources: FormioResourceMap = {};\n  error: EventEmitter<any>;\n  onError: EventEmitter<any>;\n  constructor(\n    public auth?: FormioAuthService\n  ) {\n    this.error = new EventEmitter();\n    this.onError = this.error;\n    this.resources = {\n      currentUser: {\n        resourceLoaded: this.auth.userReady\n      }\n    };\n  }\n}\n","import { ApplicationRef, EventEmitter, Injectable, Optional } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormioResourceConfig } from './resource.config';\nimport { FormioResources } from './resources.service';\nimport { FormioPromiseService } from 'angular-formio';\nimport { FormioAlerts } from 'angular-formio';\nimport { FormioAppConfig } from 'angular-formio';\nimport { FormioRefreshValue } from 'angular-formio';\nimport Promise from 'native-promise-only';\nimport { Formio, Utils } from 'formiojs';\nimport _ from 'lodash';\n\n@Injectable()\nexport class FormioResourceService {\n  public initialized = false;\n  public form: any;\n  public alerts: FormioAlerts;\n  public resource: any;\n  public resourceUrl?: string;\n  public formUrl: string;\n  public formFormio: FormioPromiseService;\n  public formio: FormioPromiseService;\n  public refresh: EventEmitter<FormioRefreshValue>;\n\n  public resourceLoading?: Promise<any>;\n  public resourceLoaded?: Promise<any>;\n  public resourceId?: string;\n  public resources: any;\n\n  public formLoading?: Promise<any>;\n  public formLoaded: Promise<any>;\n  public formResolve: any;\n  public formReject: any;\n  public isLoading: boolean;\n\n  constructor(\n    public appConfig: FormioAppConfig,\n    public config: FormioResourceConfig,\n    @Optional() public resourcesService: FormioResources,\n    public appRef: ApplicationRef,\n  ) {\n    this.isLoading = true;\n    this.alerts = new FormioAlerts();\n    this.refresh = new EventEmitter();\n    this.formLoaded = new Promise((resolve: any, reject: any) => {\n      this.formResolve = resolve;\n      this.formReject = reject;\n    });\n    this.init();\n  }\n\n  initialize() {\n    console.warn('FormioResourceService.initialize() has been deprecated.');\n  }\n\n  init() {\n    if (this.initialized) {\n      return;\n    }\n    this.initialized = true;\n    if (this.appConfig && this.appConfig.appUrl) {\n      Formio.setBaseUrl(this.appConfig.apiUrl);\n      Formio.setProjectUrl(this.appConfig.appUrl);\n      Formio.formOnly = this.appConfig.formOnly;\n    } else {\n      console.error('You must provide an AppConfig within your application!');\n    }\n\n    // Create the form url and load the resources.\n    this.formUrl = this.appConfig.appUrl + '/' + this.config.form;\n    this.resource = { data: {} };\n\n    // Add this resource service to the list of all resources in context.\n    if (this.resourcesService) {\n      this.resources = this.resourcesService.resources;\n      this.resources[this.config.name] = this;\n    }\n\n    return this.loadForm();\n  }\n\n  onError(error: any) {\n    this.alerts.setAlert({\n      type: 'danger',\n      message: error.message || error\n    });\n    if (this.resourcesService) {\n      this.resourcesService.error.emit(error);\n    }\n    throw error;\n  }\n\n  onFormError(err: any) {\n    this.formReject(err);\n    this.onError(err);\n  }\n\n  setContext(route: ActivatedRoute) {\n    this.resourceId = route.snapshot.params['id'];\n    this.resource = { data: {} };\n    this.resourceUrl = this.appConfig.appUrl + '/' + this.config.form;\n    if (this.resourceId) {\n      this.resourceUrl += '/submission/' + this.resourceId;\n    }\n    this.formio = new FormioPromiseService(this.resourceUrl);\n    if (this.resourcesService) {\n      this.resources[this.config.name] = this;\n    }\n    this.loadParents();\n  }\n\n  loadForm() {\n    this.formFormio = new FormioPromiseService(this.formUrl);\n    this.isLoading = true;\n    this.formLoading = this.formFormio\n      .loadForm()\n      .then(\n        (form: any) => {\n          this.form = form;\n          this.formResolve(form);\n          this.isLoading = false;\n          this.loadParents();\n          return form;\n        },\n        (err: any) => this.onFormError(err)\n      )\n      .catch((err: any) => this.onFormError(err));\n    return this.formLoading;\n  }\n\n  loadParents() {\n    if (!this.config.parents || !this.config.parents.length) {\n      return Promise.resolve([]);\n    }\n    if (!this.resourcesService) {\n      console.warn(\n        'You must provide the FormioResources within your application to use nested resources.'\n      );\n      return Promise.resolve([]);\n    }\n    return this.formLoading.then((form) => {\n      // Iterate through the list of parents.\n      const _parentsLoaded: Array<Promise<any>> = [];\n      this.config.parents.forEach((parent: any) => {\n        const resourceName = parent.resource || parent;\n        const resourceField = parent.field || parent;\n        const filterResource = parent.hasOwnProperty('filter') ? parent.filter : true;\n        if (this.resources.hasOwnProperty(resourceName) && this.resources[resourceName].resourceLoaded) {\n          _parentsLoaded.push(\n            this.resources[resourceName].resourceLoaded.then((resource: any) => {\n              let parentPath = '';\n              Utils.eachComponent(form.components, (component, path) => {\n                if (component.key === resourceField) {\n                  component.hidden = true;\n                  component.clearOnHide = false;\n                  _.set(this.resource.data, path, resource);\n                  parentPath = path;\n                  return true;\n                }\n              });\n              return {\n                name: parentPath,\n                filter: filterResource,\n                resource\n              };\n            })\n          );\n        }\n      });\n\n      // When all the parents have loaded, emit that to the onParents emitter.\n      return Promise.all(_parentsLoaded).then((parents: any) => {\n        this.refresh.emit({\n          form: form,\n          submission: this.resource\n        });\n        return parents;\n      });\n    });\n  }\n\n  onSubmissionError(err: any) {\n    this.onError(err);\n  }\n\n  loadResource(route: ActivatedRoute) {\n    this.setContext(route);\n    this.isLoading = true;\n    this.resourceLoading = this.resourceLoaded = this.formio\n      .loadSubmission(null, {ignoreCache: true})\n      .then(\n        (resource: any) => {\n          this.resource = resource;\n          this.isLoading = false;\n          this.refresh.emit({\n            property: 'submission',\n            value: this.resource\n          });\n          return resource;\n        },\n        (err: any) => this.onSubmissionError(err)\n      )\n      .catch((err: any) => this.onSubmissionError(err));\n    return this.resourceLoading;\n  }\n\n  save(resource: any) {\n    const formio = resource._id ? this.formio : this.formFormio;\n    return formio\n      .saveSubmission(resource)\n      .then(\n        (saved: any) => {\n          this.resource = saved;\n          return saved;\n        },\n        (err: any) => this.onError(err)\n      )\n      .catch((err: any) => this.onError(err));\n  }\n\n  remove() {\n    return this.formio\n      .deleteSubmission()\n      .then(\n        () => {\n          this.resource = null;\n        },\n        (err: any) => this.onError(err)\n      )\n      .catch((err: any) => this.onError(err));\n  }\n}\n","<ul class=\"nav nav-tabs\" style=\"margin-bottom: 10px\">\n  <li class=\"nav-item\"><a class=\"nav-link\" routerLink=\"../\"><i class=\"fa fa-chevron-left glyphicon glyphicon-chevron-left\"></i></a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\"><a class=\"nav-link\" routerLink=\"view\" routerLinkActive=\"active\">View</a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\" *ngIf=\"perms.edit\"><a class=\"nav-link\" routerLink=\"edit\" routerLinkActive=\"active\">Edit</a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\" *ngIf=\"perms.delete\"><a class=\"nav-link\" routerLink=\"delete\" routerLinkActive=\"active\"><span class=\"fa fa-trash glyphicon glyphicon-trash\"></span></a></li>\n</ul>\n<router-outlet></router-outlet>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, NavigationEnd, Router } from '@angular/router';\nimport { FormioAuthService } from 'angular-formio/auth';\nimport { FormioResourceService } from './resource.service';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  templateUrl: './resource.component.html'\n})\nexport class FormioResourceComponent implements OnInit, OnDestroy {\n  private paramsSubscription: Subscription;\n  public perms = {delete: false, edit: false};\n\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public auth: FormioAuthService,\n  ) {\n    // subscribe to the route param changes, so that we could re-load the submission if navigation happens from one submission to another\n    this.paramsSubscription = this.route.params.subscribe((params) => {\n      this.init();\n    });\n  }\n\n  ngOnInit() {\n    this.init();\n  }\n\n  init() {\n    this.service.loadResource(this.route);\n    this.service.formLoaded.then((form) => {\n      this.auth.ready.then(() => {\n        this.service.resourceLoaded.then((resource) => {\n          this.service.formFormio.userPermissions(this.auth.user, form, resource).then((perms) => {\n            this.perms.delete = perms.delete;\n            this.perms.edit = perms.edit;\n          });\n        });\n      });\n    });\n  }\n\n  ngOnDestroy() {\n    if (this.paramsSubscription) {\n      this.paramsSubscription.unsubscribe();\n    }\n  }\n}\n","import { Component } from '@angular/core';\nimport { FormioResourceService } from '../resource.service';\nimport { FormioResourceConfig } from '../resource.config';\n\n@Component({\n  templateUrl: './view.component.html'\n})\nexport class FormioResourceViewComponent {\n  constructor(\n    public service: FormioResourceService,\n    public config: FormioResourceConfig\n  ) {}\n}\n","<formio\n  [form]=\"service.form\"\n  [submission]=\"service.resource\"\n  [refresh]=\"service.refresh\"\n  [hideComponents]=\"config.parents\"\n  [readOnly]=\"true\"\n></formio>\n","import { Component, EventEmitter } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormioResourceService } from '../resource.service';\nimport { FormioResourceConfig } from '../resource.config';\n\n@Component({\n  templateUrl: './edit.component.html'\n})\nexport class FormioResourceEditComponent {\n  public triggerError: EventEmitter<any> = new EventEmitter();\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public router: Router,\n    public config: FormioResourceConfig\n  ) {}\n\n  onSubmit(submission: any) {\n    const edit = this.service.resource;\n    edit.data = submission.data;\n    this.service.save(edit)\n      .then(() => {\n        this.router.navigate(['../', 'view'], { relativeTo: this.route });\n      })\n      .catch((err) => this.triggerError.emit(err));\n  }\n}\n","<formio\n  [form]=\"service.form\"\n  [submission]=\"service.resource\"\n  [error]=\"triggerError\"\n  [refresh]=\"service.refresh\"\n  (submit)=\"onSubmit($event)\"\n></formio>\n","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormioResourceService } from '../resource.service';\n\n@Component({\n  templateUrl: './delete.component.html'\n})\nexport class FormioResourceDeleteComponent {\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public router: Router\n  ) {}\n\n  onDelete() {\n    this.service.remove().then(() => {\n      this.router.navigate(['../../'], { relativeTo: this.route });\n    });\n  }\n\n  onCancel() {\n    this.router.navigate(['../', 'view'], { relativeTo: this.route });\n  }\n}\n","<h3>Are you sure you wish to delete this record?</h3>\n<div class=\"btn-toolbar\">\n  <button type=\"button\" (click)=\"onDelete()\" class=\"btn btn-danger\" style=\"margin-right: 10px;\">Yes</button>\n  <button type=\"button\" (click)=\"onCancel()\" class=\"btn btn-danger\">No</button>\n</div>\n","<h3 *ngIf=\"service.form\" style=\"margin-top:0;\">\n  <a routerLink=\"../\" class=\"back-button\">\n    <i class=\"fa fa-chevron-left glyphicon glyphicon-chevron-left\"></i>\n  </a> | New {{ service.form.title }}\n</h3>\n<formio\n  [form]=\"service.form\"\n  [submission]=\"service.resource\"\n  [refresh]=\"service.refresh\"\n  [error]=\"onError\"\n  [success]=\"onSuccess\"\n  (submit)=\"onSubmit($event)\"\n></formio>\n","import { Component, EventEmitter, OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormioResourceService } from '../resource.service';\nimport { FormioResourceConfig } from '../resource.config';\n\n@Component({\n  styleUrls: ['./create.component.scss'],\n  templateUrl: './create.component.html'\n})\nexport class FormioResourceCreateComponent implements OnInit {\n  public onError: EventEmitter<any>;\n  public onSuccess: EventEmitter<any>;\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public router: Router,\n    public config: FormioResourceConfig\n  ) {\n    this.onError = new EventEmitter();\n    this.onSuccess = new EventEmitter();\n  }\n\n  ngOnInit() {\n    this.service.setContext(this.route);\n  }\n\n  onSubmit(submission: any) {\n    this.service\n      .save(submission)\n      .then(() => {\n        this.router.navigate(['../', this.service.resource._id, 'view'], {\n          relativeTo: this.route\n        });\n      })\n      .catch((err: any) => this.onError.emit(err));\n  }\n}\n","import { Component, OnInit, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormioResourceService } from '../resource.service';\nimport { FormioResourceConfig } from '../resource.config';\nimport { each } from 'lodash';\n\n@Component({\n  templateUrl: './index.component.html'\n})\nexport class FormioResourceIndexComponent implements OnInit {\n  public gridSrc?: string;\n  public gridQuery: any;\n  public createText: String;\n\n  constructor(\n    public service: FormioResourceService,\n    public route: ActivatedRoute,\n    public router: Router,\n    public config: FormioResourceConfig,\n    public cdr: ChangeDetectorRef,\n    public ngZone: NgZone,\n  ) {\n  }\n\n  ngOnInit() {\n    this.gridQuery = {};\n    this.service.setContext(this.route);\n    this.service.formLoaded.then(() => {\n      if (\n        this.service &&\n        this.config.parents &&\n        this.config.parents.length\n      ) {\n        this.service.loadParents().then((parents: any) => {\n          each(parents, (parent: any) => {\n            if (parent && parent.filter) {\n              this.gridQuery['data.' + parent.name + '._id'] =\n                parent.resource._id;\n            }\n          });\n\n          // Set the source to load the grid.\n          this.gridSrc = this.service.formUrl;\n          this.createText = `New ${this.service.form.title}`;\n        });\n      } else if (this.service.formUrl) {\n        this.gridSrc = this.service.formUrl;\n        this.createText = `New ${this.service.form.title}`;\n      }\n\n      this.cdr.detectChanges();\n    });\n  }\n\n  onSelect(row: any) {\n    this.ngZone.run(() => {\n      this.router.navigate([row._id, 'view'], { relativeTo: this.route });\n    });\n  }\n\n  onCreateItem() {\n    this.ngZone.run(() => {\n      this.router.navigate(['new'], { relativeTo: this.route });\n    });\n  }\n}\n","<formio-alerts [alerts]=\"service.alerts\"></formio-alerts>\n<formio-grid\n  [src]=\"gridSrc\"\n  [query]=\"gridQuery\"\n  [onForm]=\"service.formLoaded\"\n  (rowSelect)=\"onSelect($event)\"\n  (error)=\"service.onError($event)\"\n  (createItem)=\"onCreateItem()\"\n  [createText]=\"createText\"\n></formio-grid>\n","import { Routes } from '@angular/router';\nimport { FormioResourceComponent } from './resource.component';\nimport { FormioResourceViewComponent } from './view/view.component';\nimport { FormioResourceEditComponent } from './edit/edit.component';\nimport { FormioResourceDeleteComponent } from './delete/delete.component';\nimport { FormioResourceCreateComponent } from './create/create.component';\nimport { FormioResourceIndexComponent } from './index/index.component';\nimport { FormioResourceRouteConfig } from './resource.config';\nexport function FormioResourceRoutes(config?: FormioResourceRouteConfig): Routes {\n  return [\n    {\n      path: '',\n      component: config && config.index ? config.index : FormioResourceIndexComponent\n    },\n    {\n      path: 'new',\n      component: config && config.create ? config.create : FormioResourceCreateComponent\n    },\n    {\n      path: ':id',\n      component: config && config.resource ? config.resource : FormioResourceComponent,\n      children: [\n        {\n          path: '',\n          redirectTo: 'view',\n          pathMatch: 'full'\n        },\n        {\n          path: 'view',\n          component: config && config.view ? config.view : FormioResourceViewComponent\n        },\n        {\n          path: 'edit',\n          component: config && config.edit ? config.edit : FormioResourceEditComponent\n        },\n        {\n          path: 'delete',\n          component: config && config.delete ? config.delete : FormioResourceDeleteComponent\n        }\n      ]\n    }\n  ];\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormioModule } from 'angular-formio';\nimport { FormioAlerts } from 'angular-formio';\nimport { FormioGrid } from 'angular-formio/grid';\nimport { FormioResourceComponent } from './resource.component';\nimport { FormioResourceViewComponent } from './view/view.component';\nimport { FormioResourceEditComponent } from './edit/edit.component';\nimport { FormioResourceDeleteComponent } from './delete/delete.component';\nimport { FormioResourceCreateComponent } from './create/create.component';\nimport { FormioResourceIndexComponent } from './index/index.component';\nimport { FormioResourceRouteConfig } from './resource.config';\nimport { FormioResourceRoutes } from './resource.routes';\nimport { extendRouter } from 'angular-formio';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormioModule,\n    FormioGrid,\n    RouterModule\n  ],\n  declarations: [\n    FormioResourceComponent,\n    FormioResourceCreateComponent,\n    FormioResourceIndexComponent,\n    FormioResourceViewComponent,\n    FormioResourceEditComponent,\n    FormioResourceDeleteComponent\n  ],\n  providers: [\n    FormioAlerts\n  ]\n})\nexport class FormioResource {\n  static forChild(config?: FormioResourceRouteConfig): any {\n    return extendRouter(FormioResource, config, FormioResourceRoutes);\n  }\n  static forRoot(config?: FormioResourceRouteConfig): any {\n    return extendRouter(FormioResource, config, FormioResourceRoutes);\n  }\n}\n","/*\n * Public API Surface of angular-formio\n */\n\nexport * from './index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["Injectable","EventEmitter","FormioAlerts","Promise","Formio","FormioPromiseService","Utils","_","Optional","i0.ɵɵelementStart","i0.ɵɵtext","i0.ɵɵelementEnd","i0.ɵɵelement","i0.ɵɵtemplate","i0.ɵɵadvance","i0.ɵɵproperty","Component","i0.ɵɵlistener","i0.ɵɵtextInterpolate1","each","extendRouter","CommonModule","FormioModule","FormioGrid","RouterModule","NgModule"],"mappings":"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"}