{"version":3,"file":"angular-formio-manager.js","sources":["../../../projects/angular-formio/manager/src/form-manager.config.ts","../../../projects/angular-formio/manager/src/form-manager.service.ts","../../../projects/angular-formio/manager/src/index/index.component.html","../../../projects/angular-formio/manager/src/index/index.component.ts","../../../projects/angular-formio/manager/src/edit/edit.component.html","../../../projects/angular-formio/manager/src/edit/edit.component.ts","../../../projects/angular-formio/manager/src/create/create.component.ts","../../../projects/angular-formio/manager/src/form/form.component.html","../../../projects/angular-formio/manager/src/form/form.component.ts","../../../projects/angular-formio/manager/src/view/view.component.html","../../../projects/angular-formio/manager/src/view/view.component.ts","../../../projects/angular-formio/manager/src/delete/delete.component.ts","../../../projects/angular-formio/manager/src/delete/delete.component.html","../../../projects/angular-formio/manager/src/submission/edit/edit.component.ts","../../../projects/angular-formio/manager/src/submission/edit/edit.component.html","../../../projects/angular-formio/manager/src/submission/delete/delete.component.ts","../../../projects/angular-formio/manager/src/submission/delete/delete.component.html","../../../projects/angular-formio/manager/src/submission/view/view.component.ts","../../../projects/angular-formio/manager/src/submission/view/view.component.html","../../../projects/angular-formio/manager/src/submission/index/index.component.ts","../../../projects/angular-formio/manager/src/submission/index/index.component.html","../../../projects/angular-formio/manager/src/submission/submission/submission.component.html","../../../projects/angular-formio/manager/src/submission/submission/submission.component.ts","../../../projects/angular-formio/manager/src/form-manager.routes.ts","../../../projects/angular-formio/manager/src/form-manager.module.ts","../../../projects/angular-formio/manager/src/public_api.ts","../../../projects/angular-formio/manager/src/angular-formio-manager.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\nexport interface FormManagerRouteConfig {\n  formIndex?: any;\n  formCreate?: any;\n  form?: any;\n  formView?: any;\n  formEdit?: any;\n  formEmbed?: any;\n  formDelete?: any;\n  submissionIndex?: any;\n  submission?: any;\n  submissionView?: any;\n  submissionEdit?: any;\n  submissionDelete?: any;\n}\n\n@Injectable()\nexport class FormManagerConfig {\n  public tag = '';\n  public includeSearch = false;\n  public saveDraft = false;\n  public builder?: any;\n  public viewer?: string;\n  public renderer: any;\n}\n","import { Injectable } from '@angular/core';\nimport { FormioAppConfig } from 'angular-formio';\nimport { FormManagerConfig } from './form-manager.config';\nimport { Formio } from 'formiojs';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormioAuthService } from 'angular-formio/auth';\nimport _each from 'lodash/each';\nimport _intersection from 'lodash/intersection';\n\n@Injectable()\nexport class FormManagerService {\n  public formio: Formio;\n  public access: any;\n  public allAccessMap: any;\n  public ownAccessMap: any;\n  public ready: Promise<any>;\n  public actionAllowed: any;\n  public form = null;\n  public perms = {delete: false, edit: false};\n\n  constructor(\n    public appConfig: FormioAppConfig,\n    public config: FormManagerConfig,\n    public auth: FormioAuthService\n  ) {\n    if (this.appConfig && this.appConfig.appUrl) {\n      Formio.setBaseUrl(this.appConfig.apiUrl);\n      Formio.setProjectUrl(this.appConfig.appUrl);\n    } else {\n      console.error('You must provide an AppConfig within your application!');\n    }\n\n    this.allAccessMap = {\n      'update_all': 'formEdit',\n      'delete_all': 'formDelete'\n    };\n    this.ownAccessMap = {\n      'update_own': 'formEdit',\n      'delete_own': 'formDelete'\n    };\n    this.actionAllowed = (action) => this.isActionAllowed(action);\n    this.reset();\n  }\n\n  isActionAllowed(action: string) {\n    return this.access[action];\n  }\n\n  setAccess() {\n    this.access = {\n      formCreate: true,\n      formView: true,\n      formEdit: true,\n      formDelete: true,\n      submissionIndex: true\n    };\n    if (this.auth) {\n      this.access = {\n        formCreate: false,\n        formView: false,\n        formEdit: false,\n        formDelete: false,\n        submissionIndex: false\n      };\n      this.ready = this.auth.ready.then(() => {\n        const adminRoles = [];\n        _each(this.auth.roles, (role, name) => {\n          if (role.admin) {\n            adminRoles.push(role._id);\n          }\n        });\n        if (this.auth.user && this.auth.user.roles) {\n          this.auth.user.roles.forEach(roleId => {\n            if (adminRoles.indexOf(roleId) !== -1) {\n              this.access.formCreate = true;\n              this.access.formView = true;\n              this.access.formEdit = true;\n              this.access.formDelete = true;\n              this.access.submissionIndex = true;\n            }\n            if (!this.access.formCreate) {\n              this.access.formCreate = (this.auth.formAccess.create_all.indexOf(roleId) !== -1);\n            }\n            if (!this.access.formView) {\n              this.access.formView = (this.auth.formAccess.read_all.indexOf(roleId) !== -1);\n            }\n            if (!this.access.formEdit) {\n              this.access.formEdit = (this.auth.formAccess.update_all.indexOf(roleId) !== -1);\n            }\n            if (!this.access.formDelete) {\n              this.access.formDelete = (this.auth.formAccess.delete_all.indexOf(roleId) !== -1);\n            }\n            if (!this.access.submissionIndex) {\n              this.access.submissionIndex = (this.auth.formAccess.read_all.indexOf(roleId) !== -1);\n            }\n          });\n        }\n      });\n    } else {\n      this.ready = Promise.resolve(false);\n    }\n  }\n\n  reset(route?: ActivatedRoute) {\n    if (route) {\n      route.params.subscribe(params => {\n        if (params.id) {\n          this.formio = new Formio(`${this.formio.formsUrl}/${params.id}`);\n        } else {\n          this.reset();\n        }\n      });\n    } else {\n      this.formio = new Formio(this.appConfig.appUrl);\n      this.setAccess();\n    }\n  }\n\n  hasAccess(roles) {\n    if (!this.auth.user) {\n      return false;\n    }\n    return !!_intersection(roles, this.auth.user.roles).length;\n  }\n\n  setForm(form: any) {\n    this.form = form;\n    if (form.access) {\n      // Check if they have access here.\n      form.access.forEach(access => {\n        // Check for all access.\n        if (this.allAccessMap[access.type] && !this.access[this.allAccessMap[access.type]]) {\n          this.access[this.allAccessMap[access.type]] = this.hasAccess(access.roles);\n        }\n\n        // Check for own access.\n        if (\n          this.auth && this.auth.user &&\n          (form._id === this.auth.user._id) &&\n          this.ownAccessMap[access.type] &&\n          !this.access[this.ownAccessMap[access.type]]\n        ) {\n          this.access[this.ownAccessMap[access.type]] = this.hasAccess(access.roles);\n        }\n      });\n    }\n    return form;\n  }\n\n  loadForm() {\n    return this.formio.loadForm().then(form => this.setForm(form));\n  }\n\n  setSubmission(route: ActivatedRoute) {\n    return new Promise((resolve) => {\n      route.params.subscribe(params => {\n        this.formio = new Formio(`${this.formio.submissionsUrl}/${params.id}`);\n        resolve(this.formio);\n      });\n    });\n  }\n\n  submissionLoaded(submission: any) {\n    this.auth.ready.then(() => {\n      this.formio.userPermissions(this.auth.user, this.form, submission).then((perms) => {\n        this.perms.delete = perms.delete;\n        this.perms.edit = perms.edit;\n      });\n    });\n  }\n\n  loadForms() {\n    return this.formio.loadForms({params: {\n      tags: this.config.tag\n    }});\n  }\n\n  createForm(form: any) {\n    return this.formio.createform(form);\n  }\n}\n","<div class=\"input-group mb-3\" *ngIf=\"config.includeSearch\">\n  <input type=\"text\" (keyup)=\"onSearch()\" class=\"form-control\" [(ngModel)]=\"search\" placeholder=\"Search Forms\" aria-label=\"Search Forms\" aria-describedby=\"button-search\">\n  <span  *ngIf=\"search && search !== ''\" class=\"form-clear input-group-addon\" (click)=\"clearSearch()\"><span class=\"fa fa-times\"></span></span>\n</div>\n<formio-grid\n  *ngIf=\"service.ready\"\n  [formio]=\"service.formio\"\n  [gridType]=\"'form'\"\n  [query]=\"gridQuery\"\n  [refresh]=\"refreshGrid\"\n  [isActionAllowed]=\"service.actionAllowed\"\n  (rowAction)=\"onAction($event)\"\n  (rowSelect)=\"onSelect($event)\"\n  (createItem)=\"onCreateItem()\"\n></formio-grid>\n","import { Component, OnInit, EventEmitter, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormManagerService } from '../form-manager.service';\nimport { FormManagerConfig } from '../form-manager.config';\nimport { FormioGridComponent } from 'angular-formio/grid';\nimport { debounce } from 'lodash';\n\n@Component({\n  templateUrl: './index.component.html',\n  styleUrls: ['./index.component.scss']\n})\nexport class FormManagerIndexComponent implements OnInit {\n  @ViewChild(FormioGridComponent, {static: false}) formGrid: FormioGridComponent;\n  public gridQuery: any;\n  public refreshGrid: EventEmitter<object>;\n  public search = '';\n  constructor(\n    public service: FormManagerService,\n    public route: ActivatedRoute,\n    public router: Router,\n    public config: FormManagerConfig\n  ) {\n    this.gridQuery = {tags: this.config.tag, type: 'form'};\n    this.refreshGrid = new EventEmitter();\n    this.onSearch = debounce(this.onSearch, 300);\n  }\n\n  loadGrid() {\n    this.search = localStorage.getItem('searchInput');\n    this.gridQuery = JSON.parse(localStorage.getItem('query')) || this.gridQuery;\n    const currentPage = +localStorage.getItem('currentPage') || 0;\n    this.formGrid\n      .refreshGrid(this.gridQuery)\n      .then(() => this.formGrid.setPage(currentPage - 1));\n  }\n\n  ngOnInit() {\n    this.gridQuery = {tags: this.config.tag, type: 'form'};\n    this.service.reset();\n    this.service.ready.then(() => {\n      this.loadGrid();\n      this.formGrid.footer.pageChanged.subscribe(page => {\n        localStorage.setItem('currentPage', page.page);\n      });\n    });\n  }\n\n  onSearch() {\n    const searchInput = this.search;\n    if (searchInput.length > 0) {\n      this.gridQuery.skip = 0;\n      this.gridQuery.title__regex = '/' + searchInput + '/i';\n    } else {\n      delete this.gridQuery.title__regex;\n    }\n    localStorage.setItem('query', JSON.stringify(this.gridQuery));\n    localStorage.setItem('searchInput', this.search);\n    this.formGrid.pageChanged({page: 1, itemPerPage: this.gridQuery.limit});\n    this.refreshGrid.emit(this.gridQuery);\n  }\n\n  clearSearch() {\n    this.gridQuery = {tags: this.config.tag, type: 'form'};\n    localStorage.removeItem('query');\n    localStorage.removeItem('searchInput');\n    localStorage.removeItem('currentPage');\n    this.search = '';\n    this.formGrid.pageChanged({page: 1});\n    this.formGrid.query = {};\n    this.formGrid.refreshGrid({tags: this.config.tag, type: 'form'});\n  }\n\n  onAction(action: any) {\n    this.router.navigate([action.row._id, action.action], { relativeTo: this.route });\n  }\n\n  onSelect(row: any) {\n    this.router.navigate([row._id, 'view'], { relativeTo: this.route });\n  }\n\n  onCreateItem() {\n    this.router.navigate(['create'], {relativeTo: this.route});\n  }\n}\n","<div class=\"loader\" *ngIf=\"loading\"></div>\n<div class=\"form-group row\">\n  <div class=\"col-sm-8\">\n    <input type=\"text\" class=\"form-control\" id=\"formTitle\" placeholder=\"Enter a Title\" #title>\n  </div>\n  <div class=\"col-sm-2\">\n    <select class=\"form-control\" id=\"formSelect\" (change)=\"onDisplaySelect($event)\" #type>\n      <option value=\"form\">Form</option>\n      <option value=\"wizard\">Wizard</option>\n      <option value=\"pdf\">PDF</option>\n    </select>\n  </div>\n  <div class=\"col-sm-2\">\n    <button class=\"btn btn-primary btn-block\" (click)=\"onSave()\">Save Form</button>\n  </div>\n</div>\n<formio-alerts [alerts]=\"alerts\"></formio-alerts>\n<form-builder *ngIf=\"formReady\" [formbuilder]=\"config.builder\" [form]=\"form\" #builder></form-builder>\n<button class=\"btn btn-primary\" style=\"margin-top: 10px;\" (click)=\"onSave()\">Save Form</button>\n","import { Component, ViewChild, ElementRef, AfterViewInit, ChangeDetectorRef } from '@angular/core';\nimport { FormManagerService } from '../form-manager.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormManagerConfig } from '../form-manager.config';\nimport { FormioAlerts } from 'angular-formio';\nimport { FormBuilderComponent } from 'angular-formio';\nimport _ from 'lodash';\n\n@Component({\n  templateUrl: './edit.component.html'\n})\nexport class FormManagerEditComponent implements AfterViewInit {\n  @ViewChild(FormBuilderComponent, {static: false}) builder: FormBuilderComponent;\n  @ViewChild('title', {static: false}) formTitle: ElementRef;\n  @ViewChild('type', {static: false}) formType: ElementRef;\n  public form: any;\n  public loading: Boolean;\n  public formReady: Boolean;\n  public editMode: Boolean;\n\n  constructor(\n    public service: FormManagerService,\n    public router: Router,\n    public route: ActivatedRoute,\n    public config: FormManagerConfig,\n    public ref: ChangeDetectorRef,\n    public alerts: FormioAlerts\n  ) {\n    this.form = {components: []};\n    this.formReady = false;\n    this.loading = false;\n    this.editMode = false;\n  }\n\n  initBuilder(editing) {\n    if (editing) {\n      this.loading = true;\n      this.editMode = true;\n      return this.service.loadForm().then(form => {\n        this.form = form;\n        this.formTitle.nativeElement.value = form.title;\n        this.formType.nativeElement.value = form.display || 'form';\n        this.loading = false;\n        this.formReady = true;\n        this.ref.detectChanges();\n        return true;\n      }).catch(err => {\n        this.alerts.setAlert({type: 'danger', message: (err.message || err)});\n        this.loading = false;\n        this.formReady = true;\n      });\n    } else {\n      this.formReady = true;\n      return Promise.resolve(true);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.route.url.subscribe( url => {\n      this.initBuilder((url[0].path === 'edit'));\n    });\n  }\n\n  onDisplaySelect(event) {\n    this.builder.setDisplay(event.target.value);\n  }\n\n  saveForm() {\n    this.loading = true;\n    this.form.title = this.formTitle.nativeElement.value;\n    this.form.display = this.formType.nativeElement.value;\n    this.form.components = this.builder.formio.schema.components;\n    if (this.config.tag) {\n      this.form.tags = this.form.tags || [];\n      this.form.tags.push(this.config.tag);\n      this.form.tags = _.uniq(this.form.tags);\n    }\n    if (!this.form._id) {\n      this.form.name = _.camelCase(this.form.title).toLowerCase();\n      this.form.path = this.form.name;\n    }\n    return this.service.formio.saveForm(this.form).then(form => {\n      this.form = this.service.setForm(form);\n      this.loading = false;\n      return this.form;\n    }).catch(err => {\n      this.loading = false;\n      // Catch if a form is returned as an error. This is a conflict.\n      if (err._id && err.type) {\n        throw err;\n      }\n      this.alerts.setAlert({type: 'danger', message: (err.message || err)});\n    });\n  }\n\n  onSave() {\n    return this.saveForm().then((form) => {\n      if (this.editMode) {\n        this.router.navigate(['../', 'view'], {relativeTo: this.route});\n      } else {\n        this.router.navigate(['../', form._id, 'view'], {relativeTo: this.route});\n      }\n    });\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { FormManagerEditComponent } from '../edit/edit.component';\n\n@Component({\n  templateUrl: '../edit/edit.component.html'\n})\nexport class FormManagerCreateComponent extends FormManagerEditComponent implements OnInit {\n  ngOnInit() {\n    this.service.reset();\n  }\n}\n","<button *ngIf=\"options.viewer\" class=\"pull-right btn btn-outline-primary\" (click)=\"openEmbed(content)\"><i class=\"fa fa-share-alt glyphicon glyphicon-share\"></i> Share</button>\n<ul class=\"nav nav-tabs mb-2\">\n  <li class=\"nav-item\"><a class=\"nav-link\" routerLink=\"../\"><i class=\"fa fa-chevron-left glyphicon glyphicon-chevron-left\"></i></a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\"><a class=\"nav-link\" routerLink=\"view\" routerLinkActive=\"active\"><i class=\"fa fa-pencil glyphicon glyphicon-pencil\"></i> Enter Data</a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\"><a class=\"nav-link\" routerLink=\"submission\" routerLinkActive=\"active\"><i class=\"fa fa-list-alt glyphicon glyphicon-list-alt\"></i> View Data</a></li>\n  <li *ngIf=\"service.actionAllowed('formEdit')\" class=\"nav-item\" routerLinkActive=\"active\"><a class=\"nav-link\" routerLink=\"edit\" routerLinkActive=\"active\"><i class=\"fa fa-edit glyphicon glyphicon-edit\"></i> Edit Form</a></li>\n  <li *ngIf=\"service.actionAllowed('formDelete')\" class=\"nav-item\" routerLinkActive=\"active\"><a class=\"nav-link\" routerLink=\"delete\" routerLinkActive=\"active\"><span class=\"fa fa-trash glyphicon glyphicon-trash\"></span></a></li>\n</ul>\n<router-outlet></router-outlet>\n<ng-template #content>\n  <div class=\"modal-header\">\n    <h4 class=\"modal-title\">Share or Embed this form</h4>\n    <button type=\"button\" class=\"close\" aria-label=\"Close\" (click)=\"modalRef.hide()\">\n      <span aria-hidden=\"true\">&times;</span>\n    </button>\n  </div>\n  <div class=\"modal-body\">\n    <ul class=\"nav nav-tabs mr-auto mb-2\">\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" [ngClass]=\"{'active': choice === 'isUrl'}\" (click)=\"choices('isUrl')\"><i class=\"fa fa-link\"></i> URL</a>\n      </li>\n      <li class=\"nav-item\">\n        <a class=\"nav-link\" [ngClass]=\"{'active': choice === 'isEmbed'}\" (click)=\"choices('isEmbed')\"><i class=\"fa fa-code\"></i> Embed</a>\n      </li>\n    </ul>\n    <pre  *ngIf=\"choice === 'isEmbed'\"><textarea onclick=\"this.focus();this.select()\" readonly=\"readonly\" style=\"width:100%;\" rows=\"8\" [ngModel]=\"embedCode\"></textarea></pre>\n    <input *ngIf=\"choice === 'isUrl'\" type=\"text\" onclick=\"this.focus();this.select()\" readonly=\"readonly\" class=\"form-control\" [ngModel]=\"shareUrl\" placeholder=\"https://examples.form.io/example\">\n  </div>\n  <div class=\"modal-footer\">\n    <button type=\"button\" class=\"btn btn-light\" (click)=\"modalRef.hide()\">Close</button>\n  </div>\n</ng-template>\n","import { Component, OnInit, TemplateRef } from '@angular/core';\nimport { FormManagerService } from '../form-manager.service';\nimport { FormManagerConfig } from '../form-manager.config';\nimport { ActivatedRoute } from '@angular/router';\nimport { FormioAppConfig } from 'angular-formio';\nimport { BsModalService, BsModalRef } from 'ngx-bootstrap/modal';\nimport { Formio } from 'formiojs';\n\n@Component({\n  templateUrl: './form.component.html'\n})\nexport class FormManagerFormComponent implements OnInit {\n  choice: any = 'isUrl';\n  embedCode: any;\n  formio: any;\n  shareUrl: any;\n  projectId: any;\n  pathName: any;\n  goTo: any = '';\n  modalRef: BsModalRef;\n  constructor(\n    public service: FormManagerService,\n    public route: ActivatedRoute,\n    public appConfig: FormioAppConfig,\n    public options: FormManagerConfig,\n    private modalService: BsModalService\n  ) { }\n\n  ngOnInit() {\n    this.route.params.subscribe(params => {\n      this.formio = new Formio(`${this.appConfig.appUrl}/form/${params.id}`);\n      this.formio.loadForm().then(form => {\n        this.projectId = form.project;\n        this.pathName = form.path;\n        this.getShareUrl();\n      });\n      this.service.reset(this.route);\n    });\n  }\n\n  public getShareUrl() {\n    const src = this.appConfig.appUrl + '/' + this.pathName;\n    this.shareUrl = `${this.options.viewer}/#/?src=${encodeURIComponent(src)}`;\n    return this.shareUrl;\n  }\n\n  openEmbed(content: TemplateRef<any>) {\n    let goto = '';\n    if (this.goTo) {\n      goto += `if (d && d.formSubmission && d.formSubmission._id) { window.location.href = \"${this.goTo}\";}`;\n    }\n    let embedCode = '<script type=\"text/javascript\">';\n    embedCode += '(function a(d, w, u) {';\n    embedCode +=    'var h = d.getElementsByTagName(\"head\")[0];';\n    embedCode +=    'var s = d.createElement(\"script\");';\n    embedCode +=    's.type = \"text/javascript\";';\n    embedCode +=    's.src = \"' + this.options.viewer + '/assets/lib/seamless/seamless.parent.min.js\";';\n    embedCode +=    's.onload = function b() {';\n    embedCode +=       'var f = d.getElementById(\"formio-form-' + this.formio.formId + '\");';\n    embedCode +=       'if (!f || (typeof w.seamless === u)) {';\n    embedCode +=          'return setTimeout(b, 100);';\n    embedCode +=       '}';\n    embedCode +=       'w.seamless(f, {fallback:false}).receive(function(d, e) {' + goto + '});';\n    embedCode +=    '};';\n    embedCode +=    'h.appendChild(s);';\n    embedCode += '})(document, window);';\n    embedCode += '</script>';\n    embedCode += '<iframe id=\"formio-form-' + this.formio.formId + '\" ';\n    embedCode +=     'style=\"width:100%;border:none;\" height=\"800px\" src=\"' + this.shareUrl + '&iframe=1\"></iframe>';\n    this.embedCode = embedCode;\n    this.modalRef = this.modalService.show(content, { class: 'modal-lg' });\n  }\n\n  choices(string) {\n    this.choice = string;\n  }\n}\n","<formio *ngIf=\"currentForm\"\n  [renderer]=\"config.renderer\"\n  [renderOptions]=\"renderOptions\"\n  [url]=\"service.formio.formUrl\"\n  [form]=\"currentForm\"\n  [submission]=\"submission\"\n  [success]=\"onSuccess\"\n  [error]=\"onError\"\n  (submit)=\"onSubmit($event)\"\n></formio>\n","import { Component, OnInit, EventEmitter } from '@angular/core';\nimport { FormManagerConfig } from '../form-manager.config';\nimport { FormManagerService } from '../form-manager.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormioAuthService } from 'angular-formio/auth';\nimport { Formio } from 'formiojs';\n\n@Component({\n  templateUrl: './view.component.html'\n})\nexport class FormManagerViewComponent implements OnInit {\n  public submission: any;\n  public currentForm: any;\n  public renderOptions: any;\n  public onSuccess: EventEmitter<object> = new EventEmitter();\n  public onError: EventEmitter<object> = new EventEmitter();\n  constructor(\n    public service: FormManagerService,\n    public router: Router,\n    public route: ActivatedRoute,\n    public config: FormManagerConfig,\n    public auth: FormioAuthService\n  ) {\n    this.renderOptions = {\n      saveDraft: this.config.saveDraft\n    };\n    this.currentForm = null;\n    this.submission = {data: {}};\n  }\n\n  ngOnInit() {\n    // Reset the formio service to this form only.\n    this.service.formio = new Formio(this.service.formio.formUrl);\n    this.service.loadForm().then((form) => {\n      this.currentForm = form;\n    });\n  }\n\n  onSubmit(submission: any) {\n    this.submission.data = submission.data;\n    this.submission.state = 'complete';\n    this.service.formio.saveSubmission(this.submission).then(saved => {\n      this.onSuccess.emit();\n      this.router.navigate(['../', 'submission', saved._id], {relativeTo: this.route});\n    }).catch((err) => this.onError.emit(err));\n  }\n}\n","import { Component } from '@angular/core';\nimport { FormManagerService } from '../form-manager.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormioAlerts } from 'angular-formio';\n\n@Component({\n  templateUrl: './delete.component.html'\n})\nexport class FormManagerDeleteComponent {\n  constructor(\n    public service: FormManagerService,\n    public router: Router,\n    public route: ActivatedRoute,\n    public alerts: FormioAlerts\n  ) {}\n\n  onDelete() {\n    this.service.formio.deleteForm().then(() => {\n      this.router.navigate(['../../'], { relativeTo: this.route });\n    }).catch(err => this.alerts.setAlert({type: 'danger', message: (err.message || err)}));\n  }\n\n  onCancel() {\n    this.router.navigate(['../', 'view'], { relativeTo: this.route });\n  }\n}\n","<formio-alerts [alerts]=\"alerts\"></formio-alerts>\n<h3>Are you sure you wish to delete this form?</h3>\n<div class=\"btn-toolbar\">\n  <button type=\"button\" (click)=\"onDelete()\" class=\"btn btn-danger\" style=\"margin-right: 10px;\">Yes</button>\n  <button type=\"button\" (click)=\"onCancel()\" class=\"btn btn-default\">No</button>\n</div>\n","import { Component } from '@angular/core';\nimport { FormManagerService } from '../../form-manager.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  templateUrl: './edit.component.html'\n})\nexport class SubmissionEditComponent {\n  constructor(\n    public service: FormManagerService,\n    public router: Router,\n    public route: ActivatedRoute\n  ) { }\n\n  onSubmit(submission) {\n    this.router.navigate(['../../'], {relativeTo: this.route});\n  }\n}\n","<formio\n  [renderer]=\"service.config.renderer\"\n  [src]=\"service.formio.submissionUrl\"\n  (submit)=\"onSubmit($event)\"\n  (formLoad)=\"service.setForm($event)\"\n  (submissionLoad)=\"service.submissionLoaded($event)\"\n></formio>\n","import { Component } from '@angular/core';\nimport { FormManagerService } from '../../form-manager.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormioAlerts } from 'angular-formio';\n\n@Component({\n  templateUrl: './delete.component.html'\n})\nexport class SubmissionDeleteComponent {\n  constructor(\n    public service: FormManagerService,\n    public router: Router,\n    public route: ActivatedRoute,\n    public alerts: FormioAlerts\n  ) {}\n\n  onDelete() {\n    this.service.formio.deleteSubmission().then(() => {\n      this.router.navigate(['../../'], { relativeTo: this.route });\n    }).catch(err => this.alerts.setAlert({type: 'danger', message: (err.message || err)}));\n  }\n\n  onCancel() {\n    this.router.navigate(['../', 'view'], { relativeTo: this.route });\n  }\n}\n","<formio-alerts [alerts]=\"alerts\"></formio-alerts>\n<h3>Are you sure you wish to delete this record?</h3>\n<div class=\"btn-toolbar\">\n  <button type=\"button\" (click)=\"onDelete()\" class=\"btn btn-danger\" style=\"margin-right: 10px;\">Yes</button>\n  <button type=\"button\" (click)=\"onCancel()\" class=\"btn btn-default\">No</button>\n</div>\n","import { Component } from '@angular/core';\nimport { FormManagerService } from '../../form-manager.service';\n\n@Component({\n  templateUrl: './view.component.html'\n})\nexport class SubmissionViewComponent {\n  constructor(public service: FormManagerService) { }\n}\n","<formio\n  [renderer]=\"service.config.renderer\"\n  [src]=\"service.formio.submissionUrl\"\n  [readOnly]=\"true\"\n  (formLoad)=\"service.setForm($event)\"\n  (submissionLoad)=\"service.submissionLoaded($event)\"\n></formio>\n","import { Component } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormManagerService } from '../../form-manager.service';\n\n@Component({\n  templateUrl: './index.component.html'\n})\nexport class SubmissionIndexComponent {\n  constructor(\n    public service: FormManagerService,\n    public route: ActivatedRoute,\n    public router: Router\n  ) {}\n\n  onSelect(row: any) {\n    this.router.navigate([row._id, 'view'], {relativeTo: this.route});\n  }\n}\n","<formio-grid [formio]=\"service.formio\" (rowSelect)=\"onSelect($event)\"></formio-grid>\n","<a *ngIf=\"downloadUrl\" [href]=\"downloadUrl\" target=\"_blank\" class=\"pull-right\"><img src=\"https://pro.formview.io/assets/pdf.png\" style=\"height: 2em;\" /></a>\n<ul class=\"nav nav-tabs\" style=\"margin-bottom:10px\">\n  <li class=\"nav-item\"><a class=\"nav-link\" routerLink=\"../\"><i class=\"fa fa-chevron-left glyphicon glyphicon-chevron-left\"></i></a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\"><a class=\"nav-link\" routerLink=\"view\" routerLinkActive=\"active\"><i class=\"fa fa-eye glyphicon glyphicon-eye\"></i> View</a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\" *ngIf=\"service.perms.edit\"><a class=\"nav-link\" routerLink=\"edit\" routerLinkActive=\"active\"><i class=\"fa fa-edit glyphicon glyphicon-edit\"></i> Edit</a></li>\n  <li class=\"nav-item\" routerLinkActive=\"active\" *ngIf=\"service.perms.delete\"><a class=\"nav-link\" routerLink=\"delete\" routerLinkActive=\"active\"><span class=\"fa fa-trash glyphicon glyphicon-trash\"></span></a></li>\n</ul>\n<router-outlet></router-outlet>\n","import { Component, OnInit } from '@angular/core';\nimport { FormManagerService } from '../../form-manager.service';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  templateUrl: './submission.component.html'\n})\nexport class SubmissionComponent implements OnInit {\n  public downloadUrl: string;\n  constructor(\n    public service: FormManagerService,\n    public route: ActivatedRoute\n  ) { }\n\n  setDownloadUrl(url) {\n    this.downloadUrl = url;\n  }\n\n  ngOnInit() {\n    this.service.setSubmission(this.route).then((formio: any) => {\n      formio.getDownloadUrl().then((url) => this.setDownloadUrl(url));\n    });\n  }\n}\n","import { Routes } from '@angular/router';\nimport { FormManagerIndexComponent } from './index/index.component';\nimport { FormManagerCreateComponent } from './create/create.component';\nimport { FormManagerFormComponent } from './form/form.component';\nimport { FormManagerViewComponent } from './view/view.component';\nimport { FormManagerEditComponent } from './edit/edit.component';\nimport { FormManagerDeleteComponent } from './delete/delete.component';\nimport { SubmissionEditComponent } from './submission/edit/edit.component';\nimport { SubmissionDeleteComponent } from './submission/delete/delete.component';\nimport { SubmissionViewComponent } from './submission/view/view.component';\nimport { SubmissionIndexComponent } from './submission/index/index.component';\nimport { SubmissionComponent } from './submission/submission/submission.component';\nimport { FormManagerRouteConfig } from './form-manager.config';\nexport function FormManagerRoutes(config?: FormManagerRouteConfig): Routes {\n  return [\n    {\n      path: '',\n      component: config && config.formIndex ? config.formIndex : FormManagerIndexComponent\n    },\n    {\n      path: 'create',\n      component: config && config.formCreate ? config.formCreate : FormManagerCreateComponent\n    },\n    {\n      path: ':id',\n      component: config && config.form ? config.form : FormManagerFormComponent,\n      children: [\n        {\n          path: '',\n          redirectTo: 'view',\n          pathMatch: 'full'\n        },\n        {\n          path: 'view',\n          component: config && config.formView ? config.formView : FormManagerViewComponent\n        },\n        {\n          path: 'edit',\n          component: config && config.formEdit ? config.formEdit : FormManagerEditComponent\n        },\n        {\n          path: 'delete',\n          component: config && config.formDelete ? config.formDelete : FormManagerDeleteComponent\n        },\n        {\n          path: 'submission',\n          component: config && config.submissionIndex ? config.submissionIndex : SubmissionIndexComponent\n        },\n        {\n          path: 'submission/:id',\n          component: config && config.submission ? config.submission : SubmissionComponent,\n          children: [\n            {\n              path: '',\n              redirectTo: 'view',\n              pathMatch: 'full'\n            },\n            {\n              path: 'view',\n              component: config && config.submissionView ? config.submissionView : SubmissionViewComponent\n            },\n            {\n              path: 'edit',\n              component: config && config.submissionEdit ? config.submissionEdit : SubmissionEditComponent\n            },\n            {\n              path: 'delete',\n              component: config && config.submissionDelete ? config.submissionDelete : SubmissionDeleteComponent\n            }\n          ]\n        }\n      ]\n    }\n  ];\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { FormioModule } from 'angular-formio';\nimport { FormioGrid } from 'angular-formio/grid';\nimport { FormManagerIndexComponent } from './index/index.component';\nimport { FormManagerCreateComponent } from './create/create.component';\nimport { FormManagerFormComponent } from './form/form.component';\nimport { FormManagerViewComponent } from './view/view.component';\nimport { FormManagerEditComponent } from './edit/edit.component';\nimport { FormManagerDeleteComponent } from './delete/delete.component';\nimport { SubmissionComponent } from './submission/submission/submission.component';\nimport { SubmissionEditComponent } from './submission/edit/edit.component';\nimport { SubmissionDeleteComponent } from './submission/delete/delete.component';\nimport { SubmissionViewComponent } from './submission/view/view.component';\nimport { SubmissionIndexComponent } from './submission/index/index.component';\nimport { FormManagerRouteConfig } from './form-manager.config';\nimport { FormManagerRoutes } from './form-manager.routes';\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\nimport { ModalModule } from 'ngx-bootstrap/modal';\nimport { extendRouter } from 'angular-formio';\n@NgModule({\n  imports: [\n    CommonModule,\n    FormioModule,\n    RouterModule,\n    FormsModule,\n    FormioGrid,\n    ModalModule.forRoot(),\n    PaginationModule.forRoot()\n  ],\n  declarations: [\n    FormManagerIndexComponent,\n    FormManagerCreateComponent,\n    FormManagerFormComponent,\n    FormManagerViewComponent,\n    FormManagerEditComponent,\n    FormManagerDeleteComponent,\n    SubmissionComponent,\n    SubmissionEditComponent,\n    SubmissionDeleteComponent,\n    SubmissionViewComponent,\n    SubmissionIndexComponent\n  ]\n})\nexport class FormManagerModule {\n  static forChild(config?: FormManagerRouteConfig): any {\n    return extendRouter(FormManagerModule, config, FormManagerRoutes);\n  }\n  static forRoot(config?: FormManagerRouteConfig): any {\n    return extendRouter(FormManagerModule, config, FormManagerRoutes);\n  }\n}\n","/*\n * Public API Surface of angular-formio\n */\n\nexport * from './index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i0.ɵɵelementStart","i0.ɵɵlistener","i0.ɵɵelement","i0.ɵɵelementEnd","i0.ɵɵtemplate","i0.ɵɵadvance","i0.ɵɵproperty","i0.ɵɵtext"],"mappings":"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"}